{"ast":null,"code":"var _jsxFileName = \"/Users/cam/real_money_polls/src/components/LiveMarkets/LiveMarkets.js\";\nimport React from 'react';\nimport './LiveMarkets.scss';\nimport SlideToggle from 'react-slide-toggle';\nimport LiveContracts from '../LiveContracts/LiveContracts';\nimport MarketBlurb from '../MarketBlurb/MarketBlurb';\nimport EventObj from '../EventObj/EventObj';\nimport axios from 'axios';\n\nclass LiveMarkets extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contracts = [];\n    this.values = [];\n    this.markets = [];\n    this.json = [];\n    this.length = \"\";\n\n    this.getContractIds = () => {\n      console.log(\"getContractIds() was FIRED!\");\n      console.log('this.state.contractIds[this.props.marketIndex]', this.state.contractIds[this.props.marketIndex]);\n      const contractRow = this.state.allContracts[this.props.marketIndex];\n      const ids = [];\n\n      if (this.state.contractIds[this.props.marketIndex] !== undefined) {\n        const contractRows = contractRow.map((row, y) => {\n          console.log('y IN CONTRACT IDS', y);\n          console.log('row IN CONTRACT IDS', row.contract_id);\n          this.state.contractIds.push(row.contract_id);\n          return contractRows;\n        }); // now we should have the contractIds\n\n        return console.log('INSIDE getContractIds() / do we have contractIds? this.state.contractIds', this.state.contractIds); // return this.fetchContractPrices();\n      } else {\n        console.log('this.state.contractIds', this.state.contractIds);\n      }\n    };\n\n    this.logState = () => {\n      console.log('hello');\n      console.log('this.state.allContracts loggedState()', this.state.allContracts);\n      let loopAllContracts = this.state.allContracts;\n      loopAllContracts.map((row, k) => {\n        if (k !== 0 && k !== 1) {\n          console.log('k within LOOP logState()', k);\n          console.log('row within LOOP logState()', row);\n          this.state.marketContracts.push(row);\n        }\n      });\n    };\n\n    this.state = {\n      toggleSwitch: false,\n      marketIds: this.props.markets,\n      contractIds: [],\n      allContracts: [],\n      marketContracts: [],\n      contractsAndValues: [],\n      onlyValues: [],\n      jsonObj: [],\n      valuesLength: \"\",\n      objLength: [],\n      almostThere: [],\n      currentNames: [],\n      currentPrices: [],\n      loopThruTheseContracts: []\n    }; // END OF STATE\n  } // END OF CONSTRUCTOR\n\n\n  componentDidMount() {\n    let marketIds = ['3633', '3653'];\n    console.log('this.state.marketIds', this.state.marketIds);\n    let themContracts = [];\n\n    for (var i = 0; i < marketIds.length; i++) {\n      const rmpURL = 'https://realmoneypolls.herokuapp.com/api/contract/contract_list/' + marketIds[i];\n      themContracts.push(axios.get(rmpURL));\n      this.state.allContracts.push(themContracts);\n      console.log('themContracts', themContracts);\n    }\n\n    Promise.all(themContracts).then(response => console.log('INSIDE componentDidMount() ðŸ’¬ promise response', response) + response.map((res, index) => {\n      this.state.allContracts.push(res.data[0]);\n      console.log('INSIDE componentDidMount() ðŸ‘‹ this.state.allContracts', this.state.allContracts); //this.getContractIds();\n    })).catch(err => console.log(err));\n  } //  Coming out of componentDidMount(), got this.state.allContracts\n\n\n  checkMarketContracts() {\n    console.log('this.state.marketContracts checkMarketContracts()', this.state.marketContracts);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"parent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"one\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.logState(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \" Log Current State \"), React.createElement(\"button\", {\n      onClick: this.getContractIds(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \" Get ContractIds \")), React.createElement(SlideToggle, {\n      duration: 300,\n      collapsed: true,\n      render: ({\n        toggle,\n        setCollapsibleElement\n      }) => React.createElement(\"div\", {\n        className: toggle ? 'LiveMarketBox' : 'LiveMarketBoxActive',\n        onClick: toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"LiveMarkets\",\n        onClick: toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, this.props.contractName), React.createElement(SlideToggle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"slide-toggle__box\",\n        ref: setCollapsibleElement,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"No Contract Data Here\"), console.log('no contract data here'), React.createElement(MarketBlurb, {\n        blurb: \"PredictIt\\u2019s Live Market Data based on upcoming future events. These are the markets most closely associated with key events. Find market details,\",\n        blurbLink: \" here.\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      })))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default LiveMarkets;","map":{"version":3,"sources":["/Users/cam/real_money_polls/src/components/LiveMarkets/LiveMarkets.js"],"names":["React","SlideToggle","LiveContracts","MarketBlurb","EventObj","axios","LiveMarkets","Component","constructor","props","contracts","values","markets","json","length","getContractIds","console","log","state","contractIds","marketIndex","contractRow","allContracts","ids","undefined","contractRows","map","row","y","contract_id","push","logState","loopAllContracts","k","marketContracts","toggleSwitch","marketIds","contractsAndValues","onlyValues","jsonObj","valuesLength","objLength","almostThere","currentNames","currentPrices","loopThruTheseContracts","componentDidMount","themContracts","i","rmpURL","get","Promise","all","then","response","res","index","data","catch","err","checkMarketContracts","render","toggle","setCollapsibleElement","contractName"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport './LiveMarkets.scss';\nimport SlideToggle from 'react-slide-toggle';\nimport LiveContracts from '../LiveContracts/LiveContracts'\nimport MarketBlurb from '../MarketBlurb/MarketBlurb'\nimport EventObj from '../EventObj/EventObj'\nimport axios from 'axios';\n\n\ntype Props = {\n    getContractIds: Function,\n  };\n\nclass LiveMarkets extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state={\n        toggleSwitch : false,\n        marketIds : this.props.markets,\n        contractIds: [],\n        allContracts: [],\n        marketContracts: [],\n        contractsAndValues: [],\n        onlyValues: [],\n        jsonObj: [],\n        valuesLength: \"\",\n        objLength: [], \n        almostThere: [],\n        currentNames: [],\n        currentPrices:[],\n        loopThruTheseContracts: []\n\n\n\n    }; // END OF STATE\n\n\n\n\n\n  } // END OF CONSTRUCTOR\n\n  contracts = []\n  values = []\n  markets = []\n  json = []\n  length = \"\"\n\n\n    //Notes: \n    // Need to Get all Market Ids thru props\n    // Need to get all Contracts where Market Ids exist\n    // Need to get all Values where Contract Ids exist \n    // One JSON object to map Contracts and Values\n    // Loop thru JSON, render values in <LiveContracts /> component\n\n       getContractIds = () => {\n          console.log(\"getContractIds() was FIRED!\")\n          console.log('this.state.contractIds[this.props.marketIndex]', this.state.contractIds[this.props.marketIndex])\n        const contractRow = this.state.allContracts[this.props.marketIndex]\n        const ids = []\n        if (this.state.contractIds[this.props.marketIndex] !== undefined) {\n        const contractRows = contractRow.map((row, y) => {\n            console.log('y IN CONTRACT IDS', y)\n            console.log('row IN CONTRACT IDS', row.contract_id)\n            this.state.contractIds.push(row.contract_id)\n            return contractRows\n        })\n    \n    \n        // now we should have the contractIds\n    \n        return console.log('INSIDE getContractIds() / do we have contractIds? this.state.contractIds', this.state.contractIds);\n        \n    \n        \n        // return this.fetchContractPrices();\n    } else {\n       \n        console.log('this.state.contractIds', this.state.contractIds)\n    }\n    }\n\n\n\n  componentDidMount() {\n  \n    let marketIds = ['3633', '3653']\n    console.log('this.state.marketIds', this.state.marketIds)\n\n    let themContracts = [];\n\n    for ( var i = 0; i < marketIds.length; i++){\n        const rmpURL = 'https://realmoneypolls.herokuapp.com/api/contract/contract_list/' + marketIds[i];\n        themContracts.push(axios.get(rmpURL));\n        this.state.allContracts.push(themContracts)\n        console.log('themContracts', themContracts)\n    }\n\n    Promise.all(themContracts).then((response) => \n    console.log('INSIDE componentDidMount() ðŸ’¬ promise response', response) +\n    \n        response.map((res, index) => {\n            this.state.allContracts.push(res.data[0])\n            console.log('INSIDE componentDidMount() ðŸ‘‹ this.state.allContracts', this.state.allContracts)\n            //this.getContractIds();\n        }\n        )).catch((err) => console.log(err));\n        \n }\n\n\n\n //  Coming out of componentDidMount(), got this.state.allContracts\n\n \n \nlogState = () => {\n    console.log('hello')\n    console.log('this.state.allContracts loggedState()', this.state.allContracts)\n\n    let loopAllContracts = this.state.allContracts\n\n    loopAllContracts.map((row, k) => {\n        if (k !== 0 && k !== 1){\n            console.log('k within LOOP logState()', k)\n            console.log('row within LOOP logState()', row)\n            this.state.marketContracts.push(row)\n\n        }\n    })\n}\n\n\ncheckMarketContracts(){\n    console.log('this.state.marketContracts checkMarketContracts()', this.state.marketContracts)\n}\n\n\n\n\n\n\n\nrender() {\n\n  return (\n          \n\n<div className=\"parent\">\n             <div className=\"one\" >\n             <button onClick={() => this.logState()}> Log Current State </button>\n             <button onClick={this.getContractIds()}> Get ContractIds </button>\n             \n\n             \n             </div>\n\n    <SlideToggle\n    duration={300}\n    collapsed\n    render={({\n      toggle,\n      setCollapsibleElement\n    }) => (\n\n        <div className={ toggle ? 'LiveMarketBox' : 'LiveMarketBoxActive'} onClick={toggle} > \n       \n        <div className=\"LiveMarkets\" onClick={toggle} >\n        {this.props.contractName} \n        \n    \n          </div>\n          <SlideToggle >\n              <div className=\"slide-toggle__box\" ref={setCollapsibleElement}  >\n              \n            \n\n            <div >No Contract Data Here</div>\n            {console.log('no contract data here')}\n    \n\n            \n\n            <MarketBlurb \n            blurb=\"PredictItâ€™s Live Market Data based on upcoming future events. These are the markets most closely associated with key events. Find market details,\"\n            blurbLink=\" here.\"\n            \n            />\n        \n        </div>\n       \n        </SlideToggle>\n\n\n      </div>\n      )}\n    \n      />\n      </div>\n\n           \n  )\n }\n}\nexport default LiveMarkets;"]},"metadata":{},"sourceType":"module"}